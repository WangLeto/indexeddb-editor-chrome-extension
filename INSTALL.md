# IndexedDB Editor - 安装和使用指南

## 新架构说明

这个版本采用了**页面覆盖层**设计，直接在当前网页上显示编辑器界面，避免了复杂的消息传递，提供更流畅的用户体验。

## 安装步骤

1. **打开Chrome扩展页面**
   - 地址栏输入 `chrome://extensions/`

2. **启用开发者模式**
   - 右上角开启"开发者模式"

3. **加载扩展**
   - 点击"加载已解压的扩展程序"
   - 选择项目文件夹

4. **重新加载（如果需要）**
   - 如果之前安装过，点击"重新加载"按钮

## 使用方法

### 基本操作
1. **打开编辑器**：点击浏览器工具栏的扩展图标
2. **浏览数据库**：在左侧面板点击数据库名称
3. **查看数据**：点击对象存储查看记录
4. **编辑记录**：点击记录的"Edit"按钮
5. **关闭编辑器**：点击右上角×号或按ESC键

### 功能特色
- ✅ **直接覆盖显示**：在页面上方显示编辑器，无需弹窗
- ✅ **完整功能**：浏览、编辑、删除IndexedDB记录
- ✅ **单记录编辑**：每次只编辑一条记录，降低风险
- ✅ **实时预览**：JSON格式化显示数据
- ✅ **键盘快捷键**：ESC关闭、可视化操作

## 测试步骤

1. **使用测试页面**
   ```bash
   # 打开项目中的test.html
   # 点击 "Create Test Database"
   # 点击 "Add Test Records" 
   # 然后点击扩展图标测试
   ```

2. **在实际网站测试**
   - 访问使用IndexedDB的网站
   - 点击扩展图标
   - 查看和编辑数据

## 优势对比

### 新版本（页面覆盖层）
- ✅ 无消息传递延迟
- ✅ 直接访问IndexedDB
- ✅ 更大的显示空间
- ✅ 更流畅的用户体验
- ✅ 无CSP限制问题

### 旧版本（Popup）
- ❌ 复杂的消息传递
- ❌ 空间受限
- ❌ 容易出现连接问题
- ❌ CSP兼容性问题

## 故障排除

### 常见问题
1. **点击图标没反应**
   - 确认不在chrome://等特殊页面
   - 刷新页面后重试

2. **显示"No databases found"**
   - 正常现象，页面确实没有IndexedDB
   - 尝试test.html测试页面

3. **界面显示异常**
   - 可能CSS冲突，重新加载扩展
   - 在不同网站测试

### 调试信息
- 按F12打开开发工具查看控制台错误
- 检查扩展是否正确加载
- 确认页面支持IndexedDB

## 技术架构

```
用户点击图标 → Background Script → Content Script → 
直接创建页面覆盖层 → 直接操作IndexedDB → 实时显示结果
```

简化的架构让扩展更稳定、更快速、更易维护。